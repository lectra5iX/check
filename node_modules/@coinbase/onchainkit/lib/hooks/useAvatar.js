'use strict';

const client = require('../network/client.js');
const useOnchainActionWithCache = require('./useOnchainActionWithCache.js');
const ens = require('viem/ens');
const ensAvatarAction = ensName => async () => {
  try {
    return await client.publicClient.getEnsAvatar({
      name: ens.normalize(ensName)
    });
  } catch (err) {
    return null;
  }
};
const useAvatar = ensName => {
  const ensActionKey = `ens-avatar-${ensName}` ?? '';
  const _useOnchainActionWith = useOnchainActionWithCache.useOnchainActionWithCache(ensAvatarAction(ensName), ensActionKey),
    ensAvatar = _useOnchainActionWith.data,
    isLoading = _useOnchainActionWith.isLoading;
  return {
    ensAvatar,
    isLoading
  };
};
exports.ensAvatarAction = ensAvatarAction;
exports.useAvatar = useAvatar;
//# sourceMappingURL=useAvatar.js.map
